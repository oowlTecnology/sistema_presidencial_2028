<div class="mesa-situacional-content">
  <div class="content-header">
    <div class="header-left">
      <h2>Mesa Situacional</h2>
      <span class="live-indicator">ğŸ”´ EN VIVO</span>
    </div>
    <div class="header-actions">
      <button class="btn-refresh">ğŸ”„ Actualizar</button>
      <button class="btn-alert">ğŸš¨ Nueva Alerta</button>
    </div>
  </div>

  <div class="alerts-banner">
    <div class="alert-item danger">
      <span class="alert-icon">ğŸš¨</span>
      <span class="alert-text">2 Incidentes Activos</span>
    </div>
    <div class="alert-item warning">
      <span class="alert-icon">âš ï¸</span>
      <span class="alert-text">3 Alertas Pendientes</span>
    </div>
    <div class="alert-item info">
      <span class="alert-icon">â„¹ï¸</span>
      <span class="alert-text">5 Mesas sin reportar</span>
    </div>
  </div>

  <div class="content-grid">
    <div class="alerts-section">
      <div class="section-header">
        <h2>Alertas Recientes</h2>
        <button class="btn-filter">Filtrar</button>
      </div>
      
      <div class="alerts-list">
        <div *ngFor="let alert of alerts()" 
             class="alert-card"
             [class]="'alert-' + alert.type">
          <div class="alert-header">
            <span class="alert-icon-large">{{ getAlertIcon(alert.type) }}</span>
            <div class="alert-info">
              <h3>{{ alert.title }}</h3>
              <p>{{ alert.message }}</p>
            </div>
            <span class="alert-time">{{ alert.time }}</span>
          </div>
          <div class="alert-footer">
            <span class="alert-status" [class]="'status-' + alert.status">
              {{ alert.status === 'active' ? 'Activo' : alert.status === 'pending' ? 'Pendiente' : 'Resuelto' }}
            </span>
            <button class="btn-action">Ver Detalles</button>
          </div>
        </div>
      </div>
    </div>

    <div class="incidents-section">
      <div class="section-header">
        <h2>Incidentes Reportados</h2>
      </div>
      
      <div class="incidents-table">
        <table>
          <thead>
            <tr>
              <th>Mesa</th>
              <th>Colegio</th>
              <th>Tipo</th>
              <th>Prioridad</th>
              <th>Estado</th>
              <th>AcciÃ³n</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let incident of incidents()">
              <td><strong>{{ incident.mesa }}</strong></td>
              <td>{{ incident.colegio }}</td>
              <td>{{ incident.tipo }}</td>
              <td>
                <span class="priority-badge" [class]="getPriorityClass(incident.prioridad)">
                  {{ incident.prioridad }}
                </span>
              </td>
              <td>{{ incident.estado }}</td>
              <td>
                <button class="btn-table-action">Gestionar</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="map-section">
      <div class="section-header">
        <h2>Mapa de Incidentes</h2>
      </div>
      <div id="incidents-map" class="incidents-map"></div>
      <div class="map-legend-incidents">
        <div class="legend-item">
          <span class="legend-dot danger"></span>
          <span>Incidentes CrÃ­ticos</span>
        </div>
        <div class="legend-item">
          <span class="legend-dot warning"></span>
          <span>Alertas</span>
        </div>
        <div class="legend-item">
          <span class="legend-dot info"></span>
          <span>InformaciÃ³n</span>
        </div>
      </div>
    </div>
  </div>
</div>
